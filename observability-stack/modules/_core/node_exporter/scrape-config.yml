# Prometheus Scrape Configuration for Node Exporter
# This template is used by config-generator.sh to build prometheus.yml

job_name: node

scrape_interval: 15s
scrape_timeout: 10s

static_labels:
  service: system

# Static targets are generated dynamically from enabled hosts
# Target format: host_ip:port with labels from host config

relabel_configs:
  # Add instance label from target
  - source_labels: [__address__]
    target_label: instance
    regex: '([^:]+):\d+'
    replacement: '${1}'

metric_relabel_configs: []
